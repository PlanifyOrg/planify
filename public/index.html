<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planify - Modern Event Planning</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div id="app">
    
    <!-- ============================================
         AUTH VIEW - Login/Register
         ============================================ -->
    <div id="authView">
      <div class="auth-container">
        <!-- Login Card -->
        <div id="loginCard" class="auth-card">
          <div class="auth-header">
            <h2>Welcome to Planify</h2>
            <p>Sign in to continue planning</p>
          </div>
          <div class="auth-body">
            <form id="loginForm" onsubmit="return false;">
              <div class="form-group">
                <label>Username</label>
                <input type="text" name="username" placeholder="Enter your username" required>
              </div>
              <div class="form-group">
                <label>Password</label>
                <input type="password" name="password" placeholder="Enter your password" required>
              </div>
              <button type="submit" class="btn btn-lg" style="width: 100%;">Sign In</button>
            </form>
            <div class="auth-toggle">
              <p>Don't have an account? <a href="register.html"><strong>Create one here</strong></a></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================
         MAIN VIEW - App Content
         ============================================ -->
    <div id="mainView">
      <!-- Header -->
      <header>
        <div class="container">
          <h1>Planify</h1>
          <div class="header-actions">
            <div class="user-info">
              <div class="user-avatar" id="userAvatar">U</div>
              <span id="currentUsername">User</span>
            </div>
            <button id="logoutBtn" class="btn-sm">Logout</button>
          </div>
        </div>
      </header>

      <!-- Navigation Tabs -->
      <nav class="nav-tabs">
        <div class="container">
          <button class="active" data-tab="events">Events</button>
          <button data-tab="meetings">Meetings</button>
          <button data-tab="tasks">Tasks</button>
          <button data-tab="organization">Organization</button>
          <button data-tab="notifications">Notifications</button>
        </div>
      </nav>

      <!-- Content Sections -->
      <main class="container">
        
        <!-- Events Section -->
        <section id="eventsSection" class="content-section active">
          <div class="section-header">
            <h2>My Events</h2>
            <button id="createEventBtn" class="btn">+ Create Event</button>
          </div>
          <div id="eventsList" class="card-grid">
            <!-- Events will be loaded here -->
          </div>
          <div id="eventsEmpty" class="empty-state" style="display: none;">
            <div class="empty-state-icon">üìÖ</div>
            <h3>No Events Yet</h3>
            <p>Create your first event to get started</p>
            <button id="createEventBtnEmpty" class="btn">+ Create Event</button>
          </div>
        </section>

        <!-- Meetings Section -->
        <section id="meetingsSection" class="content-section">
          <div class="section-header">
            <h2>My Meetings</h2>
            <button id="createMeetingBtn" class="btn">+ Plan Meeting</button>
          </div>
          <div id="meetingsList" class="list-group">
            <!-- Meetings will be loaded here -->
          </div>
          <div id="meetingsEmpty" class="empty-state" style="display: none;">
            <div class="empty-state-icon">üë•</div>
            <h3>No Meetings Scheduled</h3>
            <p>Plan your first meeting to collaborate</p>
            <button id="createMeetingBtnEmpty" class="btn">+ Plan Meeting</button>
          </div>
        </section>

        <!-- Tasks Section -->
        <section id="tasksSection" class="content-section">
          <div class="section-header">
            <h2>My Tasks</h2>
            <button id="createTaskBtn" class="btn">+ Create Task</button>
          </div>
          <div id="tasksList" class="list-group">
            <!-- Tasks will be loaded here -->
          </div>
          <div id="tasksEmpty" class="empty-state" style="display: none;">
            <div class="empty-state-icon">‚úì</div>
            <h3>No Tasks Yet</h3>
            <p>Create your first task to track your work</p>
            <button id="createTaskBtnEmpty" class="btn">+ Create Task</button>
          </div>
        </section>

        <!-- Notifications Section -->
        <section id="notificationsSection" class="content-section">
          <div class="section-header">
            <h2>Notifications</h2>
          </div>
          <div id="notificationsList" class="list-group">
            <!-- Notifications will be loaded here -->
          </div>
          <div id="notificationsEmpty" class="empty-state" style="display: none;">
            <div class="empty-state-icon">üîî</div>
            <h3>No Notifications</h3>
            <p>You're all caught up!</p>
          </div>
        </section>

        <!-- Organization Section -->
        <section id="organizationSection" class="content-section">
          <div class="section-header">
            <h2>My Organization</h2>
            <button id="createOrganizationBtn" class="btn">+ Create Organization</button>
          </div>
          <div id="organizationContent">
            <!-- Organization details will be loaded here -->
          </div>
          <div id="organizationEmpty" class="empty-state" style="display: none;">
            <div class="empty-state-icon">üè¢</div>
            <h3>No Organization</h3>
            <p>Create or join an organization to collaborate with your team</p>
            <button id="createOrganizationBtnEmpty" class="btn">+ Create Organization</button>
          </div>
        </section>

      </main>
    </div>

    <!-- ============================================
         MODALS
         ============================================ -->
    
    <!-- Event Modal -->
    <div id="eventModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Create Event</h2>
          <button class="close-modal" onclick="closeEventModal()">√ó</button>
        </div>
        <div class="modal-body">
          <form id="eventForm">
            <div class="form-group">
              <label>Event Title</label>
              <input type="text" name="title" placeholder="Enter event name" required>
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea name="description" placeholder="Describe your event" rows="3" required></textarea>
            </div>
            <div class="form-group">
              <label>Date & Time</label>
              <input type="datetime-local" name="date" required>
            </div>
            <div class="form-group">
              <label>Location</label>
              <input type="text" name="location" placeholder="Event location" required>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeEventModal()">Cancel</button>
          <button class="btn" onclick="submitEventForm()">Create Event</button>
        </div>
      </div>
    </div>

    <!-- Meeting Modal -->
    <div id="meetingModal" class="modal modal-large">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Plan Meeting</h2>
          <button class="close-modal" onclick="closeMeetingModal()">√ó</button>
        </div>
        <div class="modal-body">
          <form id="meetingForm">
            <div class="form-section">
              <h3>üìã Basic Information</h3>
              <div class="form-group">
                <label>Meeting Title</label>
                <input type="text" name="title" placeholder="Enter meeting title" required>
              </div>
              <div class="form-group">
                <label>Description</label>
                <textarea name="description" placeholder="Meeting description" rows="2"></textarea>
              </div>
              <div class="form-group">
                <label>Event</label>
                <select name="eventId" id="meetingEventSelect" required>
                  <option value="">-- Select an Event --</option>
                </select>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <label>Scheduled Time</label>
                  <input type="datetime-local" name="scheduledTime" required>
                </div>
                <div class="form-group">
                  <label>Duration (minutes)</label>
                  <input type="number" name="duration" min="15" step="15" value="60" required>
                </div>
              </div>
            </div>

            <div class="form-section">
              <h3>üë• Participants</h3>
              <div id="participantsList" class="list-group" style="margin-bottom: 1rem;">
                <!-- Participants will be added here -->
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <input type="text" id="participantInput" placeholder="Enter User ID">
                </div>
                <button type="button" class="btn btn-secondary" id="addParticipantBtn">Add</button>
              </div>
            </div>

            <div class="form-section">
              <h3>üìù Agenda Items</h3>
              <div id="agendaItemsList" class="list-group" style="margin-bottom: 1rem;">
                <!-- Agenda items will be added here -->
              </div>
              <button type="button" class="btn btn-secondary" id="addAgendaBtn">Add Agenda Item</button>
            </div>

            <div class="form-section">
              <h3>üìÑ Document Templates</h3>
              <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="createNotes" value="notes" checked>
                  <span>Create Meeting Notes Document</span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="createMinutes" value="minutes">
                  <span>Create Meeting Minutes Document</span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="createProtocol" value="protocol">
                  <span>Create Meeting Protocol Document</span>
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeMeetingModal()">Cancel</button>
          <button class="btn" onclick="submitMeetingForm()">Create Meeting</button>
        </div>
      </div>
    </div>

    <!-- Event Detail Modal -->
    <div id="eventDetailModal" class="modal modal-large">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Event Details</h2>
          <button class="close-modal" onclick="closeEventDetailModal()">√ó</button>
        </div>
        <div class="modal-body" id="eventDetailContent">
          <!-- Event details will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Meeting Detail Modal -->
    <div id="meetingDetailModal" class="modal modal-large">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Meeting Details</h2>
          <button class="close-modal" onclick="closeMeetingDetailModal()">√ó</button>
        </div>
        <div class="modal-body" id="meetingDetailContent">
          <!-- Meeting details will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Organization Modal -->
    <div id="organizationModal" class="modal modal-large">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Create Organization</h2>
          <button class="close-modal" onclick="closeOrganizationModal()">√ó</button>
        </div>
        <div class="modal-body">
          <form id="organizationForm">
            <div class="form-section">
              <h3>üè¢ Basic Information</h3>
              <div class="form-group">
                <label>Organization Name</label>
                <input type="text" name="name" placeholder="Enter organization name" required>
              </div>
              <div class="form-group">
                <label>Description</label>
                <textarea name="description" placeholder="Describe your organization" rows="3"></textarea>
              </div>
              <div class="form-inline">
                <div class="form-group">
                  <label>Website</label>
                  <input type="url" name="website" placeholder="https://example.com">
                </div>
                <div class="form-group">
                  <label>Logo URL</label>
                  <input type="url" name="logo" placeholder="https://example.com/logo.png">
                </div>
              </div>
            </div>

            <div class="form-section">
              <h3>‚öôÔ∏è Settings</h3>
              <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="allowMemberCreateEvents" checked>
                  <span>Allow members to create events</span>
                </label>
              </div>
              <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="allowMemberInviteUsers">
                  <span>Allow members to invite new users</span>
                </label>
              </div>
              <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                  <input type="checkbox" name="requireEventApproval">
                  <span>Require admin approval for events</span>
                </label>
              </div>
              <div class="form-group">
                <label>Timezone</label>
                <select name="timezone">
                  <option value="UTC">UTC</option>
                  <option value="America/New_York">Eastern Time</option>
                  <option value="America/Chicago">Central Time</option>
                  <option value="America/Denver">Mountain Time</option>
                  <option value="America/Los_Angeles">Pacific Time</option>
                  <option value="Europe/London">London</option>
                  <option value="Europe/Paris">Paris</option>
                  <option value="Europe/Berlin">Berlin</option>
                  <option value="Asia/Tokyo">Tokyo</option>
                </select>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeOrganizationModal()">Cancel</button>
          <button class="btn" onclick="submitOrganizationForm()">Create Organization</button>
        </div>
      </div>
    </div>

    <!-- Manage Members Modal -->
    <div id="manageMembersModal" class="modal modal-large">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Manage Members</h2>
          <button class="close-modal" onclick="closeMembersModal()">√ó</button>
        </div>
        <div class="modal-body">
          <div class="form-section">
            <h3>üë• Add New Member</h3>
            <div class="form-inline">
              <div class="form-group" style="flex: 1;">
                <input type="text" id="newMemberUserId" placeholder="Enter User ID">
              </div>
              <button class="btn" onclick="addMemberToOrg()">Add Member</button>
            </div>
          </div>

          <div class="form-section">
            <h3>üìã Current Members</h3>
            <div id="membersList" style="display: flex; flex-direction: column; gap: 0.75rem;">
              <!-- Members will be loaded here -->
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeMembersModal()">Close</button>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

  </div>

  <script src="js/app.js"></script>
</body>
</html>
